<% if resource.errors.any? %>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const toast = document.getElementById('type_toast');
      toast.type = 'error';
      toast.sticky = true;
      toast.content = '<%= I18n.t("errors.messages.not_saved",
                           count: resource.errors.count,
                           resource: resource.class.model_name.human.downcase) %>';
      
      const errorList = document.createElement('ul');
      <% resource.errors.full_messages.each do |message| %>
        const errorItem = document.createElement('li');
        errorItem.textContent = '<%= message %>';
        errorList.appendChild(errorItem);
      <% end %>
      toast.appendChild(errorList);

      toast.open = true;
    });
  </script>
<% end %>